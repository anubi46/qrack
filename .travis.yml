language:
  - c
before_install:
  - pip install --user cpp-coveralls
install:
  - sudo apt-get update
  - sudo apt-get install linuxdoc-tools linuxdoc-tools-info binutils-mingw-w64-i686 gcc-mingw-w64-i686 sshpass cmake
script:
  - mkdir _build && cd _build && cmake -DENABLE_CODECOVERAGE=ON -DUSE_OPENCL=OFF .. && make -j 8 unittest && ./unittest test_m
after_success:
  - cd .. && coveralls --gcov-options '\-lp'
